(window["webpackJsonpaudio-upload"]=window["webpackJsonpaudio-upload"]||[]).push([[0],{24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFGElEQVR4nO2dS4gcRRiAvyzDIouISA5BRXIQQSIisiCogbxYYhSDi0oQ9aAHBfH6e/Ig5vTfPCjiA9HgCx/LEkQjqIGgiIjmoCA56OBhDyKy5BAWkV0PXSUza89s93R11d8z9UFfurv+qu1vuqq7uqp219bWFhk7zKUuQGaYLMQYWYgxshBjZCHGyEKMkYUYIwsxRhZijCzEGFmIMXqhA4rIVcCVoeMG4qKq/pm6EOPYFapzUURuB14EbgkSsD02gLPAB8A7qrqRtjjDBBEiIrcCXwOXNQ4WlzXgeVV9OXVBPKGEnAGWmhcnGR8Dj6jqpdQFCdWo3xkoTiqWgU9EJPkdHkrIQqA4KTkAfJpaSqgqqyzIS8Bq4+DNOFOy7wKwF5gfkeYscFeqxj74Y+8AP6vq5y3G3xERKdv9AvAZsALcXHL8AEX1dXcKKTP5YqiqvwIHgfMjTjlEojZlJoUAqOpfwGGMSZlZIWBTykwLAXtSZl4IVJZyOoaULMRRQcoRIkjJQgZwUsY9fbUuJQvZhqquk1BKFlJCRSmrbUjJQkYwIOWHEacsAW+EzjcLGYOTcpjRUk6IyGMh88xCdqCClOdEZFRHZW2ykAoMSClrU64FToTKKwupiJNyH/B3yeEHQuXTZve7VQ6KSJO/+3fg+m37DjWIN8QsCrnfbSFZEJHdIYYYTXuVdTFiXleECDLtQpJ+sZyEaRfyDGB6pOJ2plqI+1R7G/AhcauviUneqIvIIvA4xZPK1W73GvAl8Lqqft8kvpMS7LFURJYoH80ShGRCXMfcq8DDJYdvcNuTIvIW8IS1MbhtkaTKEpEF4BzlMrbzKHDOpZl6UrUhp4DFGucvujRTT3Qhrg5eniDpsogcCV0ea6S4Q55qkPbpYKUwSgohTX7lwfqMrBJViIjsptlI+cvdlLmpJfYdEuJDTrCPQRaJLeQPYLNB+k061hVSl6hCVPUf4LsGIb51MWohIp3pIkpR0CbvE7XTunbrRxGp8hKanBRCXqGYxVSXC8BrdRI4GV9RTMx5U0QemiDfqEQX4qqc48B6jWTrwPE61dWAjJvcrjnglHUpSepWVf0F2A/0K5zeB/a7NJUokeExLyVZY6eqPwH7gGcpF9N3x/a5cysxRoZnjqL6CjZ0JyRJv4e4ifongZMispdijNMmsKaq/brxKsjw9CjuFFT1vbr5tEnyD1QeJ6A/afoaMjwmpXTm+XwcE8jweCkPhi/VZHReiOvb+oL6Mjw94G0rUjotxMnw7xlN8FJCD6CrjSkhIjJfdSR5QBmeHvBuailmhDgRpymmi42V0oIMT3IpJoQMyFhy20gpLcrweCmTfGZuTHIh7sKvMrwA2hLFHL75bee2LcPTA94Xkbbz+R9JhQzIOFpy+Ciw4qVElOHpAXsi5fUfyYS4C71CuQzPMQopeygebaP/YmOT5E3dTZj5iOKC78Qx4De6t8DmRKQYl9WjuDPuqZFsJmRA/FEn/s6oI2OmiH2HXAfcGznPTpH8sTczTBZijCzEGFmIMbIQY2QhxshCjBG766QPXBM5zyZEH9gdVYiqblJMec6MIFdZxshCjJGFGKPNNqTpQmFWubHN4G1esDYWCpt6QlVZnVhpp2XqzHcZSSghnVsoLDDn3brxjQklpHMLhQVkg2arUwwRREgXFwoLwCWKmuEOVf0mVNBg/ws3E4b8HmKMLMQYWYgxshBjZCHGyEKMkYUYIwsxRhZijCzEGP8CDmF/QLPxqIYAAAAASUVORK5CYII="},52:function(e,t){e.exports="data:image/png;base64,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"},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE7ElEQVR4nO2dTWhdRRSAv4ZSSgmlVrlTVLroovhTRYqEGkNIrEgRRbPwZ1ER7F1JNy5KdVXQhbgQKlYXMkVcuFEQQailNKEWLRJcFBeldBFKKdI7CEooRUp5cXFujInF9OXOvDnv3fNBVo83c3K/N3Nn5t45s25hYQFDD0O5AzCWY0KUYUKUYUKUYUKUYUKUYUKUYUKUYUKUYUKUYUKUsT53AP1O8G4bcA8wV5TVjablrbPFxe4I3m0BxoG9wNPAQ/VH14HDRVl92qR8E7IKwbvNiIBJYAJ4jP/v6p8syurcWuuzLmsFwbthYAxpARPAbrq7174CmJC1ErzbhAiYBJ5CBDS5LtuaxNM6IcG7jcAoSy3gcWBDxCoajVwHXkjwbgMiYLEFjBBXQFQGTkgtYAS5+JPAHmBj1qC6oO+FBO/WIwImkG5olD4SsJK+ExK8G0L6/cUWMAZsyhpURNQLqQXsZqkFjAHDOWNKiUoh9XLEq4iAcWBz3oh6hyoh9aTsQ+ANlMXWK9T80/X84Aeke2otmpbfD9JyGaBLyEu5A9CAJiEP5A6gCzpA42cft0OTEO1D2QvAMWAKuBs4kaISNTd1dP04AOaAGWAamCnKKvz7w+Bdkko1CcnNbywXcCVHEG0W8jtwFhFwuiirS5njAdolZB74kaUWcD5zPLdlkIX8hTxKnUa6otmirDp5Q1qdQRJyC5hl6T5wriirm3lD6p5+FtIBzrMk4GyM96Jy029CLrJ8JPRn5nii0w9CTgBfIgKu5Q4mNf0g5HhRVt/kDqJXaJsdtx4TogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwTogwToox+eOskG8G7ncCjwA7gLuTtyD+QvSJbUtRpQlYQvNsDHAD2Aff3un4TUhO8exF4D9iVM47WCwnebQe+QDJFZKfVQoJ3E8DXSBJLFbRWSPBuHPgeZZmDWjnsrUdP36FMBrRUCHAcpQltetplBe92ATuB7ciP4SZwBfi1hzG8jKR4SsV8ky8nFVLnunoWeA1JOrw1ZX13yIHE5V9t8uUkQmoRbwKHyTC5WoWJxOVPN/lydCHBu1Gkj1aXu6ROE54yI+klZOv1mol6Uw/eHURyXqmTUXMd2S6direabr2OJiR49zbwMYrnNkVZ3UJ27qbgSFFWjRPSRBESvNsPvB+jrB7wUYIyjxRl9W6MghoLCd7dC3wSIZZe8RVwOlJZ14CpWDIgTgv5gLSTrKh70es+fgo406CYG8BR4MGirL6NEdcijc4Pqc/WqEi3BNEB7ku1P70ehBxCJqp3whzwOfDZyvxZsWgq5DlkTSgVM0VZ7U1Y/uKc6RkkS/YIMm8aRn4MV4HLwE/AmaKskq8oNB0RNTorYxU6wDsJywf+6cJO1n/ZaXoPSZlr5GhRVrMJy1dJUyG/RIniv5xC+vbW0UhIUVaXkYsXk5PAC/2QbCwFMYa9h5AliRgcA54vyirl8oZqohybF7zbhzybXmvu3YvIOpCKG2tOoiyd1BfyESS3VTddzc/A68DDJkOIfrBk8G4HsB94AjmEcSuy5D2PjOsvIM8MThVlNRe18gGgJyd9Bu+G2nqT7hY7elUZbX3rRC0mRBkmRBkmRBkmRBkmRBkmRBkmRBkmRBkmRBl/Ax5zIVo8iaG1AAAAAElFTkSuQmCC"},59:function(e,t,a){e.exports=a(88)},64:function(e,t,a){},65:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),i=(a(64),a(5)),l=a(10),s=a(7),m=a(6),u=a(8),d=(a(65),a(16)),h=a(52),p=a.n(h),g=a(24),v=a.n(g),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).selectFile=function(){a.MimeRef.current.click()},a.onFileAdded=function(e){var t=e.target.files;t&&a.props.onFile(t[0])},a.onDragOver=function(e){e.preventDefault(),a.setState({highlight:!0})},a.onDragLeave=function(){a.setState({highlight:!1})},a.onDrop=function(e){e.preventDefault();var t=e.dataTransfer.files;a.props.onFile(t[0]),a.setState({highlight:!1})},a.MimeRef=r.a.createRef(),a.state={highlight:!1},a}return Object(u.a)(t,e),t}(r.a.Component),b=a(53),f=a.n(b),y=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"upload d-flex flex-column ".concat(this.state.highlight?"highlight":""," text-center align-items-center justify-content-center mx-auto"),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.selectFile},r.a.createElement("input",{type:"file",ref:this.MimeRef,onChange:this.onFileAdded,accept:"audio/*",className:"d-none"}),this.props.file?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:f.a,style:{borderRadius:"50%"},height:50,alt:"dropzone icon"}),(this.props.file.size/1048576).toFixed(2)," MB"):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.props.icon,height:70,alt:"dropzone icon"}),this.props.helpText))}}]),t}(E),w=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"upload d-flex flex-column ".concat(this.state.highlight?"highlight":""," text-center align-items-center justify-content-center mx-auto"),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.selectFile},r.a.createElement("input",{type:"file",ref:this.MimeRef,onChange:this.onFileAdded,accept:"image/*",className:"d-none"}),this.props.file?r.a.createElement("img",{src:this.props.file,className:"image",height:148,width:148,alt:"dropzone icon"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.props.icon,height:70,width:70,alt:"dropzone icon"}),this.props.helpText))}}]),t}(E),k=a(94),A=a(95);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O={trackName:"",trackArtist:"",trackText:"",trackCategory:"",track:null,image:null,imageData:null,show:!1,playing:!1,error:null,success:null},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.audioAdded=function(e){e.type.startsWith("audio/")&&a.setState({track:e})},a.imageAdded=function(e){if(e.type.startsWith("image/")){var t=new FileReader;t.addEventListener("load",(function(){a.setState({imageData:t.result,image:e})})),t.readAsDataURL(e)}},a.closePreview=function(){a.setState({show:!1,playing:!1}),a.player.pause(),a.player=null},a.openPreview=function(){if(a.state.image&&a.state.track){var e=new FileReader;e.addEventListener("load",(function(){a.player=new Audio(e.result),a.player.addEventListener("timeupdate",(function(){a.player&&(a.SeekRef.current.value=a.player.currentTime/a.player.duration*1e3)})),a.player.play(),a.setState({show:!0,playing:!0})})),e.readAsDataURL(a.state.track)}},a.onSubmit=function(){var e=a.state,t=e.trackName,n=e.trackArtist,r=e.trackText,c=e.trackCategory,o=e.track,i=e.image;if(i&&t&&r&&n&&c&&o){var l=new FormData;l.append("musicName",t),l.append("musicArtist",n),l.append("musicText",r),l.append("musicCategory",c),l.append("file",o),l.append("file",i),fetch("/music/add/",{method:"POST",headers:{Authorization:"Token ".concat(a.props.token)},body:l}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Failed to upload music");a.setState({success:"Resource was created successfully",error:null})})).catch((function(e){a.setState({success:null,error:e.message})}))}},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},O),a.player=null,a.SeekRef=r.a.createRef(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.trackName,a=e.trackArtist,n=e.trackText,c=e.trackCategory,o=e.imageData,i=e.track,l=e.image,s=e.show,m=e.playing,u=e.error,d=e.success,h=!l||!t||!n||!a||!c||!i;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{show:s,onHide:this.closePreview},r.a.createElement(k.a.Body,{className:"bg-dark row preview"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:o,className:"preview-icon ".concat(m?"spin":""),height:70,width:70,alt:"preview icon"})),r.a.createElement("div",{className:"col container align-items-center d-flex"},r.a.createElement("div",{className:"w-100"},r.a.createElement("span",{className:"text-white font-weight-bold"},t),r.a.createElement("progress",{value:0,max:1e3,ref:this.SeekRef}))))),r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"h-100 col d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"card pb-5 col-8 h-75"},r.a.createElement("h3",{className:"card-title text-center mt-4"},"New Track"),u&&r.a.createElement(A.a,{variant:"danger"},u),d&&r.a.createElement(A.a,{variant:"success"},d),r.a.createElement("div",{className:"card-body overflow-auto"},r.a.createElement("form",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-name"},"Track Name"),r.a.createElement("input",{type:"text",className:"form-control",value:t,name:"trackName",id:"track-name",onChange:this.onChange,placeholder:"Enter track name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-artist"},"Track Artist"),r.a.createElement("input",{type:"text",className:"form-control",value:a,name:"trackArtist",id:"track-artist",onChange:this.onChange,placeholder:"Enter track artist"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-text"},"Track Text"),r.a.createElement("input",{type:"text",className:"form-control",value:n,name:"trackText",id:"track-text",onChange:this.onChange,placeholder:"Enter track text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-category"},"Track Category"),r.a.createElement("input",{type:"text",className:"form-control",value:c,name:"trackCategory",id:"track-category",onChange:this.onChange,placeholder:"Enter track category"})),r.a.createElement("div",{className:"row"},r.a.createElement(w,{icon:v.a,file:o,onFile:this.imageAdded,helpText:"Drag cover here or click to browse"}),r.a.createElement(y,{icon:p.a,file:i,onFile:this.audioAdded,helpText:"Drag audio here or click to browse"})))),r.a.createElement("div",{className:"row container mt-4"},r.a.createElement("div",{className:"col-8"},r.a.createElement("button",{className:"btn btn-success w-100 mx-auto",disabled:h,onClick:this.onSubmit},"Upload song")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{className:"btn btn-info w-100 mx-auto",disabled:h,onClick:this.openPreview},"Preview")))))))}}]),t}(r.a.Component);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var N={videoName:"",videoArtist:"",videoText:"",videoCategory:"",videoUrl:null,image:null,imageData:null,success:null,error:null},D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.imageAdded=function(e){if(e.type.startsWith("image/")){var t=new FileReader;t.addEventListener("load",(function(){a.setState({imageData:t.result,image:e})})),t.readAsDataURL(e)}},a.onSubmit=function(){var e=a.state,t=e.videoName,n=e.videoArtist,r=e.videoText,c=e.videoCategory,o=e.videoUrl,i=e.image;if(i&&t&&n&&r&&c&&o){var l=new FormData;l.append("videoName",t),l.append("videoArtist",n),l.append("videoText",r),l.append("videoCategory",c),l.append("videoUrl",o),l.append("file",i),fetch("/videos/add/",{method:"POST",headers:{Authorization:"Token ".concat(a.props.token)},body:l}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Failed to upload video");a.setState({success:"Resource was created successfully",error:null,videoName:"",videoArtist:"",videoText:"",videoCategory:"",videoUrl:null,image:null,imageData:null})})).catch((function(e){a.setState({success:null,error:e.message})}))}},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},N),a.player=null,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.videoName,a=e.videoArtist,n=e.videoText,c=e.videoCategory,o=e.imageData,i=e.videoUrl,l=e.image,s=e.error,m=e.success,u=!l||!t||!n||!a||!c||!i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"h-100 col d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"card pb-5 col-8 h-75"},r.a.createElement("h3",{className:"card-title text-center mt-4"},"New Video"),s&&r.a.createElement(A.a,{variant:"danger"},s),m&&r.a.createElement(A.a,{variant:"success"},m),r.a.createElement("div",{className:"card-body overflow-auto"},r.a.createElement("form",{className:"container"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-name"},"Video Name"),r.a.createElement("input",{type:"text",className:"form-control",value:t,name:"videoName",id:"track-name",onChange:this.onChange,placeholder:"Enter video name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-artist"},"Video Artist"),r.a.createElement("input",{type:"text",className:"form-control",value:a,name:"videoArtist",id:"track-artist",onChange:this.onChange,placeholder:"Enter video artist"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-text"},"Video Text"),r.a.createElement("input",{type:"text",className:"form-control",value:n,name:"videoText",id:"track-text",onChange:this.onChange,placeholder:"Enter video text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-category"},"Video Category"),r.a.createElement("input",{type:"text",className:"form-control",value:c,name:"videoCategory",id:"track-category",onChange:this.onChange,placeholder:"Enter video category"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"track-url"},"Video Url (Youtube)"),r.a.createElement("input",{type:"text",className:"form-control",value:i,name:"videoUrl",id:"track-url",onChange:this.onChange,placeholder:"Enter video url"})),r.a.createElement("div",{className:"row"},r.a.createElement(w,{icon:v.a,file:o,onFile:this.imageAdded,helpText:"Drag cover here or click to browse"})))),r.a.createElement("div",{className:"row container mt-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{className:"btn btn-success w-100 mx-auto",disabled:u,onClick:this.onSubmit},"Upload video")))))))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={current:1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this;switch(this.state.current){case 1:e=r.a.createElement(j,{token:this.props.token});break;default:e=r.a.createElement(D,{token:this.props.token})}return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"})),r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{class:"navbar-nav"},r.a.createElement("li",{class:"nav-item ".concat(1===this.state.current?"active":"")},r.a.createElement("button",{class:"nav-link btn btn-link",onClick:function(){t.setState({current:1})}},"Upload Music ",r.a.createElement("span",{class:"sr-only"},"(current)"))),r.a.createElement("li",{class:"nav-item ".concat(2===this.state.current?"active":"")},r.a.createElement("button",{class:"nav-link btn btn-link",onClick:function(){t.setState({current:2})}},"Upload Video ",r.a.createElement("span",{class:"sr-only"},"(current)")))))),e)}}]),t}(r.a.Component),x=a(90),R=a(56),I=a(91),F=a(92),U=a(93),B=a(96),Q=a(57),J=a.n(Q),V=a(58),q=a.n(V);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={email:"",password:"",error:null,loading:!1},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.email,r=t.password;fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error);a.setState(K({},Y)),a.props.changeParentState({authorized:!0,token:e.token})})).catch((function(e){a.setState({error:e})})).finally((function(){a.setState({loading:!1})}))},a.onChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.state=K({},Y),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,c=e.loading,o=""===a||""===t||c;return r.a.createElement(x.a,{className:"py-5 row mx-auto"},r.a.createElement(R.a,{xs:12,md:5,className:"mx-md-auto"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(I.a,null,r.a.createElement(F.a,{htmlFor:"email"},"Email address"),r.a.createElement(U.a,{id:"email",name:"email",value:t,onChange:this.onChange,type:"email",placeholder:"Enter Email"})),r.a.createElement(I.a,null,r.a.createElement(F.a,{htmlFor:"password"},"Password"),r.a.createElement(U.a,{id:"password",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Enter password"})),r.a.createElement(B.a,null,r.a.createElement(J.a,{id:"checkbox"}),r.a.createElement(q.a,{htmlFor:"checkbox"},"Remember Me")),r.a.createElement("button",{disabled:o,className:"mt-4 btn btn-success"},"Submit ",r.a.createElement("div",{className:"spinner-border spinner-border-sm ".concat(c?"":"d-none"),role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),n&&r.a.createElement(A.a,{variant:"danger",className:"mt-3"},n.message)),r.a.createElement("br",null)))}}]),t}(r.a.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("button",{className:"nav-link btn btn-link",onClick:function(){e.setState({auth:1})}},"Sign In ",r.a.createElement("span",{className:"sr-only"},"(current)")))))),r.a.createElement(L,{changeParentState:this.props.changeParentState}))}}]),t}(r.a.Component),G=(a(87),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).changeState=function(e){a.setState(e)},a.state={authorized:!1,token:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.authorized?r.a.createElement(T,{changeParentState:this.changeState,token:this.state.token}):r.a.createElement(M,{changeParentState:this.changeState})}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.a9233b4b.chunk.js.map